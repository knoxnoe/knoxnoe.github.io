<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="noe"><meta name="keywords" content="noe"><meta name="author" content="noe"><meta name="copyright" content="noe"><link href="favicon.ico" rel="shortcut icon" type="image/ico"><title>你不知道的JavaScript [ Tiannuo ]</title><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><link rel="stylesheet" href="/css/joker.css"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"EKXDXZDQIR","apiKey":"76e98e07e30b25391ae7a5c6d2b11276","indexName":"hexo-theme-joker","hits":{"per_page":5},"languages":{"input_placeholder":"article、title、tags","hits_empty":"search empty","hits_stats":"algolia_search.hits_stats"}}
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><header><div id="joker-header"><div id="header-logo"><img class="logo-img" src="/img/logo.png"></div><div id="header-nav"><div class="menu" id="menu"><div class="line"></div><div class="line"></div><div class="line"></div></div><div class="menu-list"><a href="/">Home</a><a href="/about">About</a><a href="/archives">Archives</a><div id="joker-search"><div id="joker-algolia-search"><a id="joker-search"><i class="fa fa-search"></i></a><div id="joker-algolia-panel"><div id="joker-algolia-search-input"></div><div id="joker-algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div></div><div id="joker-mask"></div></div></div></div></div></div></header><main><div class="content-outer"><div class="content-inner"><div id="joker-post"><div class="post-head"><p class="post-title">你不知道的JavaScript</p></div><div id="joker-post-main"><article id="joker-article"><h2 id="1、（）的二义性"><a href="#1、（）的二义性" class="headerlink" title="1、（）的二义性"></a>1、（）的二义性</h2><h3 id="（1）作为语句的词法元素"><a href="#（1）作为语句的词法元素" class="headerlink" title="（1）作为语句的词法元素"></a>（1）作为语句的词法元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="keyword">typeof</span>(<span class="number">123</span>);</span><br><span class="line"><span class="keyword">var</span> str = (<span class="string">&#x27;please input a string&#x27;</span>, <span class="number">1000</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">arg1, arg2</span>) // 函数声明中的虚拟参数表</span></span><br></pre></td></tr></table></figure>

<h3 id="（2）传值参数表，目前为止只存在new关键字的使用中"><a href="#（2）传值参数表，目前为止只存在new关键字的使用中" class="headerlink" title="（2）传值参数表，目前为止只存在new关键字的使用中"></a>（2）传值参数表，目前为止只存在new关键字的使用中</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<h3 id="（3）作为限定表达式的词法元素"><a href="#（3）作为限定表达式的词法元素" class="headerlink" title="（3）作为限定表达式的词法元素"></a>（3）作为限定表达式的词法元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(initialize; test; increment) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(expression) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(expression) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（4）强制表达式运算"><a href="#（4）强制表达式运算" class="headerlink" title="（4）强制表达式运算"></a>（4）强制表达式运算</h3><h3 id="（5）函数调用运算符"><a href="#（5）函数调用运算符" class="headerlink" title="（5）函数调用运算符"></a>（5）函数调用运算符</h3><h2 id="2、-的二义性"><a href="#2、-的二义性" class="headerlink" title="2、{}的二义性"></a>2、{}的二义性</h2><h3 id="（1）复合语句"><a href="#（1）复合语句" class="headerlink" title="（1）复合语句"></a>（1）复合语句</h3><h3 id="（2）对象声明（对象直接量）"><a href="#（2）对象声明（对象直接量）" class="headerlink" title="（2）对象声明（对象直接量）"></a>（2）对象声明（对象直接量）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> code1 = <span class="string">&#x27;if(true) &#123;entry: 1&#125;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> code2 = <span class="string">&#x27;if(true) (&#123;entry: 1&#125;)&#x27;</span></span><br><span class="line"><span class="keyword">let</span> value1 = <span class="built_in">eval</span>(code1)</span><br><span class="line"><span class="keyword">let</span> value2 = <span class="built_in">eval</span>(code2)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(value1) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(value2) <span class="comment">// &#123;entry: 1&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="（3）函数直接量声明时的语法符号"><a href="#（3）函数直接量声明时的语法符号" class="headerlink" title="（3）函数直接量声明时的语法符号"></a>（3）函数直接量声明时的语法符号</h3><h4 id="（4）结构化异常处理的语法符号"><a href="#（4）结构化异常处理的语法符号" class="headerlink" title="（4）结构化异常处理的语法符号"></a>（4）结构化异常处理的语法符号</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  </span><br><span class="line">&#125; <span class="keyword">catch</span>() &#123;</span><br><span class="line">  </span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>语句和表达式的区别：</p>
<p>一个表达式会产生一个值，他可以放在任何需要一个值的地方。</p>
<p>语句可以理解成一个行为，循环语句、if语句就是典型的语句。</p>
<p>JavaScript中某些需要语句的地方，可以使用一个表达式代替，这样的语句叫做<strong>表达式语句</strong>。相反，不可以在需要表达式的地方用语句代替。</p>
<h2 id="3、两种自执行写法的区别"><a href="#3、两种自执行写法的区别" class="headerlink" title="3、两种自执行写法的区别"></a>3、两种自执行写法的区别</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 强制运算符(),返回调用结果</span></span><br><span class="line">&#125;());</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 强制运算符(),返回函数自身</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>



<h2 id="4、赋值语句和变量声明语句中的-区别"><a href="#4、赋值语句和变量声明语句中的-区别" class="headerlink" title="4、赋值语句和变量声明语句中的=区别"></a>4、赋值语句和变量声明语句中的=区别</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a += <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"><span class="comment">// 错误❌</span></span><br><span class="line">因为=在变量声明中不是运算符号，而仅仅只是语句的语法分隔符。</span><br></pre></td></tr></table></figure>



<h2 id="5、函数、函数实例、函数引用"><a href="#5、函数、函数实例、函数引用" class="headerlink" title="5、函数、函数实例、函数引用"></a>5、函数、函数实例、函数引用</h2><p>主要是函数new的时候会不会产生新的函数实例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewInstance</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ins1 = <span class="keyword">new</span> createNewInstance();</span><br><span class="line"><span class="keyword">let</span> ins2 = <span class="keyword">new</span> createNewInstance();</span><br><span class="line"></span><br><span class="line">ins1.func === ins2.func <span class="comment">// false 产生了新的函数实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ins1 = myFunc;</span><br><span class="line"><span class="keyword">let</span> ins2 = myFunc;</span><br><span class="line"></span><br><span class="line">ins1 === ins2 <span class="comment">// true 只是函数引用</span></span><br></pre></td></tr></table></figure>



<h2 id="6、原型为null的构造器，实例化对象"><a href="#6、原型为null的构造器，实例化对象" class="headerlink" title="6、原型为null的构造器，实例化对象"></a>6、原型为null的构造器，实例化对象</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myObj</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.show = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;call in myObj&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">myObj.prototype = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> myObj();</span><br><span class="line"><span class="comment">// call in myObj</span></span><br><span class="line">obj.show()</span><br><span class="line"><span class="comment">// object</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 但是console.dir(obj)，可以发现，obj的__proto__指向的是Object()，而不是myObj。但是却可以调用show方法。</span></span><br><span class="line"><span class="comment">// conclusion:</span></span><br><span class="line">	实例化对象的过程中，实际是通过<span class="keyword">new</span> <span class="built_in">Object</span>()创建的，但是<span class="keyword">new</span>运算仍然会用它作为<span class="built_in">this</span>来调用一次myObj(),所以会有show方法</span><br></pre></td></tr></table></figure>



<h2 id="7、对于ES6中，arguments与形参之间的关系，以及默认值的影响？"><a href="#7、对于ES6中，arguments与形参之间的关系，以及默认值的影响？" class="headerlink" title="7、对于ES6中，arguments与形参之间的关系，以及默认值的影响？"></a>7、对于ES6中，arguments与形参之间的关系，以及默认值的影响？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arg</span>(<span class="params">arg1, arg2 = <span class="string">&#x27;yry&#x27;</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>] === arg2)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>])</span><br><span class="line">  <span class="built_in">console</span>.log(arg2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="comment">// yry</span></span><br><span class="line">arg(<span class="string">&#x27;noe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="comment">// tiannuo</span></span><br><span class="line"><span class="comment">// tiannuo</span></span><br><span class="line">arg(<span class="string">&#x27;noe&#x27;</span>, <span class="string">&#x27;tiannuo&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>结论： arguments只针对实际传进来的实参个数，与形参以及默认值没有关系</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> second = <span class="number">12</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">first = second, second</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(first + <span class="string">&#x27;--&#x27;</span> + second)</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="literal">undefined</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">// second比first晚定义，所以这样会报错。产生了默认参数的TDZ</span></span><br><span class="line"><span class="comment">// 但是如果吧形参中的second换个名字，就会引用到外层作用域的second变量，而不会报错</span></span><br></pre></td></tr></table></figure>



<h2 id="8、with"><a href="#8、with" class="headerlink" title="8、with"></a>8、with</h2><blockquote>
<p>source:《你不知道的JavaScript》2.2.2 with</p>
</blockquote>
<p>with可以改变已经存在的词法作用域</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    a = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o1 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line">foo(o1)</span><br><span class="line">o1.a <span class="comment">//2</span></span><br><span class="line">foo(o2)</span><br><span class="line">o2.a <span class="comment">//undefined</span></span><br><span class="line">a <span class="comment">//2,泄漏到全局变量</span></span><br></pre></td></tr></table></figure>



<h2 id="9、this与strict-mode"><a href="#9、this与strict-mode" class="headerlink" title="9、this与strict mode"></a>9、this与strict mode</h2><p>通常最外层的函数中的this在调用时会绑定在全局，也就是浏览器的window上。（非严格模式）</p>
<p>如果是严格模式，则会绑定在undefined上。但我们都知道this取决的调用时调用栈中的调用位置</p>
<p>下🌰，值得⚠️</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.cc)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> cc = <span class="string">&#x27;noe&#x27;</span></span><br><span class="line">foo()</span><br><span class="line"><span class="comment">// noe</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.cc)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> cc = <span class="string">&#x27;noe&#x27;</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  &#x27;use strict&#x27;</span></span><br><span class="line">  foo()</span><br><span class="line">&#125;)()</span><br><span class="line"><span class="comment">// noe</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>也就是说，严格模式下调用foo()并不影响默认绑定。同时你看到我们在全局声明变量都是用var来声明，因为使用let并不会污染全局变量</p>
</blockquote>
<h2 id="10、软绑定"><a href="#10、软绑定" class="headerlink" title="10、软绑定"></a>10、软绑定</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.softBind) &#123;</span><br><span class="line">  <span class="built_in">Function</span>.prototype.softBind = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// bound函数中的this和softBind中的this不是一个东西</span></span><br><span class="line">      <span class="keyword">return</span> fn.apply(!<span class="built_in">this</span> || <span class="built_in">this</span> === (<span class="built_in">window</span> || <span class="built_in">global</span>) ? obj : <span class="built_in">this</span>, args.concat.apply(args, <span class="built_in">arguments</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 让bound函数拥有软绑定时的函数功能了，此例中即为foo函数</span></span><br><span class="line">    bound.prototype = <span class="built_in">Object</span>.create(fn.prototype)</span><br><span class="line">    <span class="keyword">return</span> bound</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`name: <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;obj&#x27;</span> &#125;</span><br><span class="line">obj2 = &#123; <span class="attr">name</span>: <span class="string">&#x27;obj2&#x27;</span> &#125;</span><br><span class="line">obj3 = &#123; <span class="attr">name</span>: <span class="string">&#x27;obj3&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fooBJ = foo.softBind(obj) <span class="comment">// fooBJ即就是bound函数，他的this取决于调用位置</span></span><br><span class="line">fooBJ() <span class="comment">// name: obj   这个时候因为this是undefined，所以this绑定到通过闭包传进去的obj对象上</span></span><br><span class="line">obj2.foo = foo.softBind(obj)</span><br><span class="line">obj2.foo() <span class="comment">//name: obj2   这里已经的this隐式绑定修改到obj2上了</span></span><br><span class="line">fooBJ.call(obj3) <span class="comment">// name: obj3  这里this被硬绑定到obj3上了</span></span><br><span class="line"><span class="built_in">setTimeout</span>(obj2.foo, <span class="number">100</span>) <span class="comment">// name: obj</span></span><br><span class="line"><span class="comment">/*回调函数相当于一个隐式的传参，如果没有软绑定的话，这里将会应用默认绑定将this绑定到全局环境上，</span></span><br><span class="line"><span class="comment">    但有软绑定，这里this还是指向obj1*/</span></span><br></pre></td></tr></table></figure>



<h2 id="11、in-和-hasOwnProperty的区别"><a href="#11、in-和-hasOwnProperty的区别" class="headerlink" title="11、in 和 hasOwnProperty的区别"></a>11、in 和 hasOwnProperty的区别</h2><h2 id="12、遍历"><a href="#12、遍历" class="headerlink" title="12、遍历"></a>12、遍历</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">foreach()</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">of</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">in</span></span><br><span class="line">every()</span><br><span class="line">some()</span><br></pre></td></tr></table></figure>

<h2 id="13、new"><a href="#13、new" class="headerlink" title="13、new"></a>13、new</h2><p>首先要知道使用new关键字调用函数时都进行了哪些操作，创建空对象、执行prototype链接、绑定上下文、在函数没有返回其他对象的情况下返回该新对象。如果构造函数没有返回值，则返回新创建的对象，如果有返回值，则分两种情况：1、返回值为基本类型时，直接忽略，返回新创建的对象;2、返回值为引用类型时，则忽略新创建的对象，返回该引用类型。</p>
<p>再说下执行prototype链接的意思：</p>
<p>把新对象的__proto__属性，指向该函数的prototype。任何一个对象都有一个__proto__属性，该属性指向构造函数的prototype，顶层对象的__proto__为null。任何一个函数都有prototype属性，该属性的值也是个对象，同样拥有__proto__属性，prototype还有另外一个属性constructor，该属性指向构造函数本身。</p>
<div id="joker-prev-next"><div class="prev"><a class="previous" href="#"><i class="fa fa-arrow-left" aria-hidden="true"></i><span>Preivous</span></a></div><div class="next"><a class="following" href="/2021/04/25/hexo-theme-joker%E4%B8%BB%E9%A2%98%E6%9E%84%E5%BB%BA/"><span>Following</span><i class="fa fa-arrow-right" aria-hidden="true"></i></a></div></div><div id="joker-comment"><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://knoxnoe.github.io/2021/06/07/article1/';
  this.page.identifier = '2021/06/07/article1/';
  this.page.title = '你不知道的JavaScript';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'hexo-theme-joker' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script></div></article><div id="joker-toc"><div class="label"><ul class="tags"><li><a href="/tags/javaScript/"> <span>javaScript</span></a></li><li><a href="/tags/java/"> <span>java</span></a></li><li><a href="/tags/c/"> <span>c++</span></a></li></ul><ul class="categories"><li><a href="/categories/%E8%AF%AD%E8%A8%80/"> <span>语言</span></a></li><li><a href="/categories/%E8%AF%AD%E8%A8%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"> <span>网络基础</span></a></li><li><a href="/categories/%E8%AF%AD%E8%A8%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/cpu/"> <span>cpu</span></a></li><li><a href="/categories/%E8%AF%AD%E8%A8%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/cpu/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"> <span>计算机网络</span></a></li></ul></div><div class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%EF%BC%88%EF%BC%89%E7%9A%84%E4%BA%8C%E4%B9%89%E6%80%A7"><span class="toc-text">1、（）的二义性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81-%E7%9A%84%E4%BA%8C%E4%B9%89%E6%80%A7"><span class="toc-text">2、{}的二义性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%B8%A4%E7%A7%8D%E8%87%AA%E6%89%A7%E8%A1%8C%E5%86%99%E6%B3%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">3、两种自执行写法的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5%E5%92%8C%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E8%AF%AD%E5%8F%A5%E4%B8%AD%E7%9A%84-%E5%8C%BA%E5%88%AB"><span class="toc-text">4、赋值语句和变量声明语句中的&#x3D;区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B%E3%80%81%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8"><span class="toc-text">5、函数、函数实例、函数引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E5%8E%9F%E5%9E%8B%E4%B8%BAnull%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8%EF%BC%8C%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AF%B9%E8%B1%A1"><span class="toc-text">6、原型为null的构造器，实例化对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E5%AF%B9%E4%BA%8EES6%E4%B8%AD%EF%BC%8Carguments%E4%B8%8E%E5%BD%A2%E5%8F%82%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E4%BB%A5%E5%8F%8A%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E5%BD%B1%E5%93%8D%EF%BC%9F"><span class="toc-text">7、对于ES6中，arguments与形参之间的关系，以及默认值的影响？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81with"><span class="toc-text">8、with</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81this%E4%B8%8Estrict-mode"><span class="toc-text">9、this与strict mode</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E3%80%81%E8%BD%AF%E7%BB%91%E5%AE%9A"><span class="toc-text">10、软绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E3%80%81in-%E5%92%8C-hasOwnProperty%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">11、in 和 hasOwnProperty的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%E3%80%81%E9%81%8D%E5%8E%86"><span class="toc-text">12、遍历</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13%E3%80%81new"><span class="toc-text">13、new</span></a></li></ol></div></div></div></div></div></div></main><footer><div id="joker-footer"><div id="joker-back-to-top"><a href="#"> <i class="fa fa-arrow-up"></i></a></div><div class="social"><ul class="socialIcon"><li><a href="xx"> <i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a href="xx"> <i class="fa fa-github" aria-hidden="true"></i></a></li><li><a href="xx"> <i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a href="xx"> <i class="fa fa-weixin" aria-hidden="true"></i></a></li><li><a href="xx"> <i class="fa fa-qq" aria-hidden="true"></i></a></li></ul></div><div class="info"><p>Copyright © noe 2021</p><p>Powered by noe</p></div></div></footer><script src="/js/event.js" type="module"></script><script src="/js/joker.js" type="module"></script></body></html>